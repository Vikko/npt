/* Initializers */
heart_rate_data = []

/* Heart rate */
<% if @hr_data.present? %>
var i = 0;
	<% @hr_data.each do |data_entry| %>
		heart_rate_data.push([i, <%= data_entry%>]);
		i++;
	<% end %>
<% end %>
if (delay <= 0) {
	next = bpm_rate_data.length;
	current_bpm = <%= @hr_data.present? ? @hr_data.last : 0.0 %>;
	current_bpm = current_bpm.toFixed(1);
	bpm_rate_data.push([next, current_bpm]);
	delay = 25;
	draw_bpmrate();
	$(".bpm-value").html(current_bpm);
}
delay--;

/* Sweat */
<% if @sw_data.present? %>
	$("#sweat").html("<%= j(render :partial => 'sweat') %>");
<% end %>

/* Muscle tension */
<% if @mt_data.present? %>
	$("#muscle_tension").html("<%= j(render :partial => 'muscle_tension') %>");
<% end %>

/* Accelerometer */
<% if @accel_data.present? %>
	$("#accelerometer").html("<%= j(render :partial => 'accelerometer') %>");
<% end %>

/* Gyroscope */
<% if @gyro_data.present? %>
	$("#gyroscope").html("<%= j(render :partial => 'gyroscope') %>");
<% end %>

/* Geolocation */
<% if @latitude.present? && @longitude.present? %>
	$("#geolocation").html("<%= j(render :partial => 'map') %>")
<% end %>

